
## Implementation Details
Track & Know is a web application, launched using a single docker image as described here. The application is implemented using Django (python) for the backend and Angular for the frontend. Apart from Django, P-median calculation is implemented using Celery, as to allow multiple tasks to be executed in parallel without compromising the application's serviceability.

## File structure

   <ul>
     <li>angular-frontend</li>
     <li>db.sqlite3</li>
     <li>Dockerfile</li>
     <li>docs</li>
     <li>front</li>
     <li>imple.md</li>
     <li>init.sh</li>
     <li>LICENSE</li>
     <li>manage.py</li>
     <li>pmedapp</li>
     <li>pmedian</li>
     <li>README.md</li>
     <li>requirements.txt</li>
     <li>static</li>
    </ul>

 
The structure presented is, partially auto-generated by Django during project initialization, where the functionality is split into multiple applications each one responsible for part of the final functionality. In more detail, <em>pmedapp</em> serves as the place where all sub-applications are managed, using <em>manage.py</em>, as well it defines any external dependencies, in our case celery. Folders <em>pmedian, front</em> contain the logic and implementation for the pmedian calculation and front-end service respectively. Folders <em>static, angular-fronend</em> store all data and logic to serve the frontend and, finally, folder <em>docs</em> stores images used for documentation purposes.

## Celery  
Celery, is a famous Python library, for managing and scheduling tasks, that is commonly partnered up with Django to enhance the functionality of a web application, abstracting the execution of long running tasks, e.g. sending an email, from a user, allowing multiple tasks to be executed in parallel without blocking the application's interface. In order for celery to manage and execute these tasks, it is commonly paired with a task queue (e.g. Redis or RabbitMQ) that may also serve as a result backend, where the results are stored and are queried.
To provide a single-image service, without compromising the systems robustness and responsiveness, we have used the device's filesystem as a queue that celery uses to manage and store the executed pmedian tasks.

<ins>The Celery configuration (pmedap/settings.py) used to facilitate this implementation is as follows:</ins>
<strong>CELERY_BROKER_URL = </strong>'filesystem://'  
<strong>CELERY_BROKER_FOLDER = </strong>'/app/broker'  
<strong>CELERY_BROKER_TRANSPORT_OPTIONS = </strong>{  
    'data_folder_in': '/app/broker/out/',  
    'data_folder_out': '/app/broker/out/',  
}
<strong>CELERY_RESULT_PERSISTENT = </strong>True  
<strong>CELERY_RESULT_BACKEND = </strong>'file:///tmp/results'  
<strong>CELERY_ACCEPT_CONTENT = </strong>['application/json']  
<strong>CELERY_RESULT_SERIALIZER = </strong>'json'  
<strong>CELERY_TASK_SERIALIZER = </strong>'json'  
<strong>CELERY_IGNORE_RESULT = </strong>False  
<strong>CELERY_TASK_TRACK_STARTED = </strong>True  

## Documentation
<ins>For the rest of the documentation refer to any of the following:</ins>

* Details about the [model](./docs/model.md)
* Details about the [implementation](./docs/imple.md)
* How to [contribute](./CONTRIB)
* Other software/tools/models from [Track&Know](https://trackandknowproject.eu)

## Maintainers

* Dr. Ibad Kureshi
* Dr. Panos Protopapas
* Ms. Angeliki Mylonaki
* Mr. Tasos Kakouris
