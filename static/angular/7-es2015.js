(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{i1rK:function(n,e,t){"use strict";t.r(e),t.d(e,"NewAnalysisModule",(function(){return bn}));var i=t("ofXK"),s=t("tyNb"),o=t("3Pt+"),a=t("fXoL"),r=t("cn6w"),c=t("+rOU"),l=t("XNiG"),b=t("rDax"),u=t("JwMs"),h=t("/KA4"),d=t("1G5W"),m=t("pdGh"),p=t("FwiY"),g=t("GR68"),z=t("2Suw");function f(n,e){if(1&n){const n=a.Xb();a.Wb(0,"nz-message",2),a.ec("destroyed",(function(e){return a.wc(n),a.ic().remove(e.id,e.userAction)})),a.Vb()}2&n&&a.nc("instance",e.$implicit)}function v(n,e){1&n&&a.Rb(0,"i",10)}function C(n,e){1&n&&a.Rb(0,"i",11)}function y(n,e){1&n&&a.Rb(0,"i",12)}function S(n,e){1&n&&a.Rb(0,"i",13)}function w(n,e){1&n&&a.Rb(0,"i",14)}function V(n,e){if(1&n&&(a.Ub(0),a.Rb(1,"span",15),a.Tb()),2&n){const n=a.ic();a.Cb(1),a.nc("innerHTML",n.instance.content,a.xc)}}let x=0,T=(()=>{class n{constructor(n,e){this.cdr=n,this.nzConfigService=e,this.instances=[],this.destroy$=new l.a,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(n){const e=this.onCreate(n);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,e],this.readyInstances(),e}remove(n,e=!1){this.instances.some((t,i)=>t.messageId===n&&(this.instances.splice(i,1),this.instances=[...this.instances],this.onRemove(t,e),this.readyInstances(),!0))}removeAll(){this.instances.forEach(n=>this.onRemove(n,!1)),this.instances=[],this.readyInstances()}onCreate(n){return n.options=this.mergeOptions(n.options),n.onClose=new l.a,n}onRemove(n,e){n.onClose.next(e),n.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(n){const{nzDuration:e,nzAnimate:t,nzPauseOnHover:i}=this.config;return Object.assign({nzDuration:e,nzAnimate:t,nzPauseOnHover:i},n)}}return n.\u0275fac=function(n){a.dc()},n.\u0275dir=a.Lb({type:n}),n})(),W=(()=>{class n{constructor(n){this.cdr=n,this.destroyed=new a.n,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter"),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(n=!1){this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),setTimeout(()=>{this.destroyed.next({id:this.instance.messageId,userAction:n})},200)):this.destroyed.next({id:this.instance.messageId,userAction:n})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return n.\u0275fac=function(n){a.dc()},n.\u0275dir=a.Lb({type:n}),n})();const M={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24};let k=(()=>{class n extends T{constructor(n,e){super(n,e),this.destroy$=new l.a,this.instances=[]}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("message").pipe(Object(d.a)(this.destroy$)).subscribe(()=>this.updateConfig())}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},M),this.config),this.nzConfigService.getConfigForComponent("message")),this.top=Object(h.j)(this.config.nzTop),this.cdr.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(a.Qb(a.h),a.Qb(z.a))},n.\u0275cmp=a.Kb({type:n,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[a.zb],decls:2,vars:3,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(n,e){1&n&&(a.Wb(0,"div",0),a.Cc(1,f,1,1,"nz-message",1),a.Vb()),2&n&&(a.Bc("top",e.top),a.Cb(1),a.nc("ngForOf",e.instances))},directives:function(){return[i.j,E]},encapsulation:2,changeDetection:0}),n})(),O=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)}}),n})(),P=(()=>{class n extends class{constructor(n,e,t){this.nzSingletonService=n,this.overlay=e,this.injector=t}remove(n){this.container&&(n?this.container.remove(n):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${x++}`}withContainer(n){let e=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(e)return e;const t=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),i=new c.b(n,null,this.injector),s=t.attach(i);return t.overlayElement.style.zIndex="1010",e||(this.container=e=s.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,e)),e}}{constructor(n,e,t){super(n,e,t),this.componentPrefix="message-"}success(n,e){return this.createInstance({type:"success",content:n},e)}error(n,e){return this.createInstance({type:"error",content:n},e)}info(n,e){return this.createInstance({type:"info",content:n},e)}warning(n,e){return this.createInstance({type:"warning",content:n},e)}loading(n,e){return this.createInstance({type:"loading",content:n},e)}create(n,e,t){return this.createInstance({type:n,content:e},t)}createInstance(n,e){return this.container=this.withContainer(k),this.container.create(Object.assign(Object.assign({},n),{createdAt:new Date,messageId:this.getInstanceId(),options:e}))}}return n.\u0275fac=function(e){return new(e||n)(a.ac(u.d),a.ac(b.d),a.ac(a.r))},n.\u0275prov=Object(a.Mb)({factory:function(){return new n(Object(a.ac)(u.d),Object(a.ac)(b.d),Object(a.ac)(a.o))},token:n,providedIn:O}),n})(),E=(()=>{class n extends W{constructor(n){super(n),this.destroyed=new a.n}}return n.\u0275fac=function(e){return new(e||n)(a.Qb(a.h))},n.\u0275cmp=a.Kb({type:n,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[a.zb],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(n,e){1&n&&(a.Wb(0,"div",0),a.ec("mouseenter",(function(){return e.onEnter()}))("mouseleave",(function(){return e.onLeave()})),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Ub(3,3),a.Cc(4,v,1,0,"i",4),a.Cc(5,C,1,0,"i",5),a.Cc(6,y,1,0,"i",6),a.Cc(7,S,1,0,"i",7),a.Cc(8,w,1,0,"i",8),a.Tb(),a.Cc(9,V,2,1,"ng-container",9),a.Vb(),a.Vb(),a.Vb()),2&n&&(a.nc("@moveUpMotion",e.instance.state),a.Cb(2),a.nc("ngClass","ant-message-"+e.instance.type),a.Cb(1),a.nc("ngSwitch",e.instance.type),a.Cb(1),a.nc("ngSwitchCase","success"),a.Cb(1),a.nc("ngSwitchCase","info"),a.Cb(1),a.nc("ngSwitchCase","warning"),a.Cb(1),a.nc("ngSwitchCase","error"),a.Cb(1),a.nc("ngSwitchCase","loading"),a.Cb(1),a.nc("nzStringTemplateOutlet",e.instance.content))},directives:[i.i,i.m,i.n,m.b,p.b],encapsulation:2,data:{animation:[g.c]},changeDetection:0}),n})(),I=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[i.c,b.e,p.c,m.a,O]]}),n})();var _=t("ocnv"),L=t("B+r4"),B=t("PTRe"),F=t("OzZK"),X=t("z4wI"),R=t("zAKX"),j=t("mrSG"),A=t("RwU8"),N=t("C2AL");function D(n,e){1&n&&(a.Wb(0,"h3"),a.Ec(1," Please upload a csv file with coordinates in the form < latitude, longitude> (2 columns)."),a.Vb())}function q(n,e){if(1&n){const n=a.Xb();a.Wb(0,"div"),a.Wb(1,"span",4),a.Ec(2),a.Vb(),a.Wb(3,"span",5),a.Ec(4),a.Vb(),a.Wb(5,"span",6),a.Wb(6,"button",7),a.ec("click",(function(){return a.wc(n),a.ic().removeFile()})),a.Rb(7,"i",8),a.Vb(),a.Vb(),a.Vb()}if(2&n){const n=a.ic();a.Cb(2),a.Gc(" ",n.filename," "),a.Cb(2),a.Gc("",n.fileSize,"MB"),a.Cb(2),a.nc("nzSize","small")}}let G=(()=>{class n{constructor(n,e){this.msg=n,this.commonApi=e,this.loading=!1,this.markers=new a.n,this.csvBlob=new a.n}postMethod(n){return Object(j.a)(this,void 0,void 0,(function*(){this.fileToUpload=n.item(0),this.filename=this.fileToUpload.name,this.fileSize=this.bytesToMegaBytes(this.fileToUpload.size),this.loading=!0;try{const n=yield this.commonApi.extractCsv(this.fileToUpload);this.msg.info("Successful csv upload"),this.markers.emit(n),this.csvBlob.emit(this.fileToUpload)}catch(e){this.msg.error("Error on upload"),console.log(e)}return this.loading=!1,!1}))}bytesToMegaBytes(n){return(9.5367431640625e-7*n).toFixed(2)}removeFile(){this.filename=null}}return n.\u0275fac=function(e){return new(e||n)(a.Qb(P),a.Qb(r.a))},n.\u0275cmp=a.Kb({type:n,selectors:[["app-tkn-upload"]],outputs:{markers:"markers",csvBlob:"csvBlob"},decls:5,vars:2,consts:[[1,"upload-wrap"],["id","myForm","type","file","name","file",1,"file-upload-input",3,"change"],[1,"drag-text"],[4,"ngIf"],[1,"filename"],[1,"filesize"],[1,"remove"],["nz-button","","nzType","primary",3,"nzSize","click"],["nz-icon","","nzType","close"]],template:function(n,e){1&n&&(a.Wb(0,"div",0),a.Wb(1,"input",1),a.ec("change",(function(n){return e.postMethod(n.target.files)})),a.Vb(),a.Wb(2,"div",2),a.Cc(3,D,2,0,"h3",3),a.Cc(4,q,8,3,"div",3),a.Vb(),a.Vb()),2&n&&(a.Cb(3),a.nc("ngIf",!e.filename&&!e.loading),a.Cb(1),a.nc("ngIf",e.filename))},directives:[i.k,F.a,A.a,N.a,p.b],styles:["[_nghost-%COMP%]     .avatar-uploader>.ant-upload{width:128px;height:128px}.upload-wrap[_ngcontent-%COMP%]{margin-top:20px;position:relative;background:#f0eeee;border:1px solid #e3e1e1;height:150px;display:flex;justify-content:center;align-items:center}.upload-wrap[_ngcontent-%COMP%]:hover{background-color:#e4e4e4}.drag-text[_ngcontent-%COMP%]{text-align:center}.file-upload-input[_ngcontent-%COMP%]{position:absolute;margin:0;padding:0;width:100%;height:100%;outline:none;opacity:0;cursor:pointer}.filename[_ngcontent-%COMP%]{font-size:18px}.filesize[_ngcontent-%COMP%]{font-size:10px;font-style:italic;padding:0 5px}"]}),n})();var $=t("WlLC"),K=t("nJia");function H(n,e){if(1&n){const n=a.Xb();a.Wb(0,"div",1),a.Wb(1,"div",2),a.Wb(2,"div"),a.Wb(3,"span",3),a.Ec(4,"Step 2"),a.Vb(),a.Ec(5,": Please select the area by drawing a rectangle from the map toolbar. "),a.Vb(),a.Vb(),a.Wb(6,"app-tnk-maps",8),a.ec("boundingBox",(function(e){return a.wc(n),a.ic().getBoundingBox(e)})),a.Vb(),a.Vb()}if(2&n){const n=a.ic();a.Cb(6),a.nc("markers",n.markers)}}function U(n,e){if(1&n){const n=a.Xb();a.Wb(0,"div",1),a.Wb(1,"div",2),a.Wb(2,"div"),a.Wb(3,"span",3),a.Ec(4,"Step 3"),a.Vb(),a.Ec(5,": Please fill the required details. Note that computation time increases exponentially with the grid size and max p-value. "),a.Vb(),a.Vb(),a.Wb(6,"div",9),a.Wb(7,"form",10),a.ec("ngSubmit",(function(){return a.wc(n),a.ic().submitForm()})),a.Wb(8,"div",11),a.Wb(9,"div",12),a.Wb(10,"nz-form-item"),a.Wb(11,"nz-form-label",13),a.Ec(12,"Task Name "),a.Vb(),a.Wb(13,"nz-form-control",14),a.Rb(14,"input",15),a.Vb(),a.Vb(),a.Vb(),a.Wb(15,"div",12),a.Wb(16,"nz-form-item"),a.Wb(17,"nz-form-label",16),a.Ec(18,"Grid Length "),a.Wb(19,"button",17),a.Ec(20,"?"),a.Vb(),a.Vb(),a.Wb(21,"nz-form-control",18),a.Rb(22,"nz-input-number",19),a.Vb(),a.Vb(),a.Vb(),a.Wb(23,"div",12),a.Wb(24,"nz-form-item"),a.Wb(25,"nz-form-label",20),a.Ec(26,"Out of bounds points "),a.Wb(27,"button",21),a.Ec(28,"?"),a.Vb(),a.Vb(),a.Wb(29,"nz-form-control",22),a.Wb(30,"nz-select",23),a.Rb(31,"nz-option",24),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(32,"div",12),a.Wb(33,"nz-form-item"),a.Wb(34,"nz-form-label",25),a.Ec(35,"Cost type "),a.Wb(36,"button",26),a.Ec(37,"?"),a.Vb(),a.Vb(),a.Wb(38,"nz-form-control",27),a.Wb(39,"nz-select",28),a.Rb(40,"nz-option",24),a.Rb(41,"nz-option",24),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(42,"div",12),a.Wb(43,"nz-form-item"),a.Wb(44,"nz-form-label",29),a.Ec(45,"Min p-value"),a.Vb(),a.Wb(46,"nz-form-control",30),a.Rb(47,"nz-input-number",31),a.Vb(),a.Vb(),a.Vb(),a.Wb(48,"div",12),a.Wb(49,"nz-form-item"),a.Wb(50,"nz-form-label",32),a.Ec(51,"Max p-value"),a.Wb(52,"button",33),a.Ec(53,"?"),a.Vb(),a.Vb(),a.Wb(54,"nz-form-control",30),a.Rb(55,"nz-input-number",34),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&n){const n=a.ic(),e=a.uc(11);a.Cb(7),a.nc("formGroup",n.validateForm),a.Cb(1),a.nc("nzGutter",10),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSize","small"),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",50)("nzStep",1),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSize","small"),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzLabel","exclude")("nzValue","exclude"),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSize","small"),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzLabel","time")("nzValue","time"),a.Cb(1),a.nc("nzLabel","distance")("nzValue","distance"),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",n.maxPvaluesBounds)("nzStep",1),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(2),a.nc("nzTooltipTitle",e)("nzSize","small"),a.Cb(2),a.nc("nzSm",12)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",n.maxPvaluesBounds)("nzStep",1)}}function Q(n,e){1&n&&(a.Wb(0,"span"),a.Ec(1,"Maximum p-value can't be larger than (1"),a.Wb(2,"sub"),a.Ec(3,"/4"),a.Vb(),a.Ec(4," ) * gridLength"),a.Wb(5,"sup"),a.Ec(6,"2"),a.Vb(),a.Ec(7," or 25"),a.Vb())}function J(n,e){if(1&n){const n=a.Xb();a.Wb(0,"button",35),a.ec("click",(function(){return a.wc(n),a.ic().startNewTask()})),a.Ec(1," Start new task "),a.Vb()}}const Y=[{path:"",component:(()=>{class n{constructor(n,e,t,i){this.commonApi=n,this.msg=e,this.fb=t,this._router=i,this.loading=!1,this.boxes=[!0,!0,!0],this.showMapSelection=!1,this.formIsValid=!1,this.maxPvaluesBounds=25,this.markers=[],this.boundingBox=null,this.taskMeta={name:"this is a test",time:{submit:"12:38:00"},job_type:"pmedian",properties:{type:"geographic",cost_type:"time",demand_pts:{if_out_of_bounds:"exclude"},box:{sw:"52.25,-0.1",ne:"52.5,0.4",grid_height:"None",grid_length:10},p_val:{min:3,max:5}}}}ngOnInit(){this.validateForm=this.fb.group({name:[null,[o.o.required]],gridLength:[10,[o.o.required]],minVal:[1,[o.o.required]],maxVal:[2,[o.o.required]],costType:["distance",[o.o.required]],dataPoints:["exclude",[o.o.required]]}),this.validateForm.get("gridLength").valueChanges.subscribe(n=>{this.validateForm.patchValue({minVal:1,maxVal:null})}),this.validateForm.statusChanges.subscribe(n=>{console.log(n),this.validateMaxValue(),this.setMaxPValueBound(),this.formIsValid="VALID"===n})}setMaxPValueBound(){const{gridLength:n}=this.validateForm.value;if(n){let e=Math.floor(.25*Math.pow(n,2));0===e?e=1:e>=25&&(e=25),this.maxPvaluesBounds=e}}validateMaxValue(){const{minVal:n,maxVal:e}=this.validateForm.value;return!(!e&&n)&&(e>=n||(this.validateForm.patchValue({minVal:1,maxVal:null}),this.msg.warning("Max p value must be equal or greater than min p value"),!1))}updateConfirmValidator(){Promise.resolve().then(()=>this.validateForm.controls.checkPassword.updateValueAndValidity())}submitForm(){for(const n in this.validateForm.controls)this.validateForm.controls[n].markAsDirty(),this.validateForm.controls[n].updateValueAndValidity()}getMarkers(n){this.csvMarkers=n,this.showMapSelection=!0,this.boundingBox=null,this.markers=n,this.loading=!0,setTimeout(()=>{this.boxes[0]=!1,this.loading=!1},500)}getCsvBlob(n){this.csv=n,console.log("csv blob"),console.log(n)}getBoundingBox(n){this.boundingBox=n}startNewTask(){const{gridLength:n,maxVal:e,minVal:t,name:i,dataPoints:s,costType:o}=this.validateForm.value,a={sw:null,ne:null,grid_height:null,grid_length:null},{_northEast:r,_southWest:c}=this.boundingBox;a.sw=`${c.lat},${c.lng}`,a.ne=`${r.lat},${r.lng}`,a.grid_height="None",a.grid_length=n,this.taskMeta.properties.box=a,this.taskMeta.name=i,this.taskMeta.properties.demand_pts.if_out_of_bounds=s,this.taskMeta.properties.cost_type=o,this.taskMeta.properties.p_val.max=e,this.taskMeta.properties.p_val.min=t,console.log(this.taskMeta),this.commonApi.newTask(this.csv,this.taskMeta).then(n=>{this.msg.info(`Task ${i} has started`),this._router.navigate([""])}).catch(n=>{this.msg.error("Error starting new task")})}}return n.\u0275fac=function(e){return new(e||n)(a.Qb(r.a),a.Qb(P),a.Qb(o.d),a.Qb(s.b))},n.\u0275cmp=a.Kb({type:n,selectors:[["app-new-analysis"]],decls:13,vars:3,consts:[["id","new-analysis"],[1,"box","border","shadow"],[1,"step"],[1,"highlight"],[3,"markers","csvBlob"],["class","box border shadow",4,"ngIf"],["titleTemplate",""],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[3,"markers","boundingBox"],[1,"row"],["nz-form","",3,"formGroup","ngSubmit"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nzErrorTip","Please enter a valid task name!",3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","name"],["nzRequired","","nzFor","gridLength",3,"nzSm","nzXs"],["nz-button","","nz-tooltip","","nzTooltipTitle","The selected area will be split into a\n                  grid of almost squares. By providing the number of grid-boxes per row (Grid Length) the Grid\n                  Height is automatically selected so that each grid-box is < as square as possible> .","nzType","default","nzShape","circle",1,"custom-tooltip",3,"nzSize"],["nzErrorTip","Please enter a valid grid length!",3,"nzSm","nzXs"],["formControlName","gridLength","id","gridLength",3,"nzMin","nzMax","nzStep"],["nzRequired","","nzFor","dataPoints",3,"nzSm","nzXs"],["nz-button","","nz-tooltip","","nzTooltipTitle","Currenly all data points lying outside the\n                  selected area are discarded.","nzType","default","nzShape","circle",1,"custom-tooltip",3,"nzSize"],["nzErrorTip","Please select what to do with the points!",3,"nzSm","nzXs"],["nzShowSearch","","formControlName","dataPoints","nzPlaceHolder","Excluded Points Action","id","dataPoints"],[3,"nzLabel","nzValue"],["nzRequired","","nzFor","costType",3,"nzSm","nzXs"],["nz-button","","nz-tooltip","","nzTooltipTitle","Should the distance between A and B be measured in meters or\n                  second (i.e. driving time)","nzType","default","nzShape","circle",1,"custom-tooltip",3,"nzSize"],["nzErrorTip","Please select distance or time",3,"nzSm","nzXs"],["nzShowSearch","","formControlName","costType","nzPlaceHolder","Action For Excluded Points","id","costType"],["nzRequired","","nzFor","minVal",3,"nzSm","nzXs"],["nzErrorTip","Please enter a valid p-value!",3,"nzSm","nzXs"],["formControlName","minVal","id","minVal",3,"nzMin","nzMax","nzStep"],["nzRequired","","nzFor","maxVal",3,"nzSm","nzXs"],["nz-button","","nz-tooltip","","nzType","default","nzShape","circle",1,"custom-tooltip",3,"nzTooltipTitle","nzSize"],["formControlName","maxVal","id","maxVal",3,"nzMin","nzMax","nzStep"],["nz-button","","nzType","primary",3,"click"]],template:function(n,e){1&n&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"div"),a.Wb(4,"span",3),a.Ec(5,"Step 1"),a.Vb(),a.Ec(6,": Please upload a csv file. "),a.Vb(),a.Vb(),a.Wb(7,"app-tkn-upload",4),a.ec("markers",(function(n){return e.getMarkers(n)}))("csvBlob",(function(n){return e.getCsvBlob(n)})),a.Vb(),a.Vb(),a.Cc(8,H,7,1,"div",5),a.Cc(9,U,56,52,"div",5),a.Cc(10,Q,8,0,"ng-template",null,6,a.Dc),a.Cc(12,J,2,0,"button",7),a.Vb()),2&n&&(a.Cb(8),a.nc("ngIf",e.showMapSelection),a.Cb(1),a.nc("ngIf",e.boundingBox),a.Cb(3),a.nc("ngIf",e.markers.length>0&&e.boundingBox&&e.formIsValid))},directives:[G,i.k,$.a,o.p,o.l,_.b,o.g,L.c,L.a,_.c,_.d,_.a,B.a,o.c,o.k,o.f,F.a,A.a,N.a,K.b,X.a,R.b,R.a],styles:["#new-analysis[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-weight:400;margin-bottom:40px;display:flex;justify-content:space-between;align-items:center}#new-analysis[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-weight:600}#new-analysis[_ngcontent-%COMP%]   #gridLength[_ngcontent-%COMP%]{width:100%}.custom-tooltip[_ngcontent-%COMP%]{margin-left:5px}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[s.e.forChild(Y)],s.e]}),n})();var nn=t("xVJt"),en=(t("FtGj"),t("tk/3"),t("79xS"),t("LRne"),t("HDdC"),t("quSY"),t("eIep"),t("lJxs"),t("pLZG"),t("R0Ic"),t("nLfN")),tn=t("Rm4T");let sn=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[i.c,p.c,m.a]]}),n})(),on=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[i.c,o.h,en.b,K.a,sn,tn.b,p.c]]}),n})();var an=t("CSM4");let rn=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[i.c,on,I,an.a]]}),n})();var cn=t("pKmL"),ln=t("UPf0");let bn=(()=>{class n{}return n.\u0275mod=a.Ob({type:n}),n.\u0275inj=a.Nb({factory:function(e){return new(e||n)},imports:[[i.c,Z,nn.a,rn,an.a,cn.a,ln.a]]}),n})()}}]);